from pathlib import Path
import csv

def read_profit_loss_data(file_path):
    """
    Reads the CSV file containing profit and loss data.
    Returns a list of tuples where each tuple contains the day and net profit difference.
    """
    profit_loss_data = []

    with file_path.open(mode="r", encoding="UTF-8", newline="") as file:
        reader = csv.reader(file)
        next(reader)  # Skip header

        prev_net_profit = None
        for row in reader:
            day = int(row[0])
            net_profit = int(row[4])

            if prev_net_profit is not None:
                net_profit_diff = net_profit - prev_net_profit
                profit_loss_data.append((day, net_profit_diff))

            prev_net_profit = net_profit

    return profit_loss_data

def identify_scenario(profit_loss_data):
    """
    Identifies the scenario based on the trend of net profit.
    Returns the scenario output.
    """
    increasing_trend = all(diff > 0 for _, diff in profit_loss_data)
    decreasing_trend = all(diff < 0 for _, diff in profit_loss_data)

    if increasing_trend:
        return scenario_1(profit_loss_data)
    elif decreasing_trend:
        return scenario_2(profit_loss_data)
    else:
        return scenario_3(profit_loss_data)
